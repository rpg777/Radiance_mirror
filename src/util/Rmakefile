#
# SCCSid "$SunId$ LBL"
#

MACH = -f68881 /usr/lib/libm.il -DIEEE -DBSD -DSTRUCTASSIGN

OPT = -O

CFLAGS = $(MACH) $(OPT)

INSTDIR = /lumen/lumen/ray/bin.sun3

PROGS = makedist swaprasheader findglare xglaresrc glarendx

all:	$(PROGS)

install:	all objview.csh objpict.csh proj.csh glare.csh
	cp $(PROGS) $(INSTDIR)
	cp objview.csh $(INSTDIR)/objview
	cp objpict.csh $(INSTDIR)/objpict
	cp glare.csh $(INSTDIR)/glare
	chmod 755 $(INSTDIR)/objview $(INSTDIR)/objpict $(INSTDIR)/glare

clean:
	set nonomatch; rm -f *.o $(PROGS) core

scanner:	scanner.o
	cc $(CFLAGS) -o scanner scanner.o -lm

makedist:	makedist.o fvect.o setscan.o
	cc $(CFLAGS) -o makedist makedist.o fvect.o setscan.o -lm

findglare:	findglare.o glareval.o glaresrc.o color.o fvect.o image.o \
header.o resolu.o setscan.o linregr.o
	cc $(CFLAGS) -o findglare findglare.o glareval.o glaresrc.o \
color.o fvect.o image.o header.o resolu.o setscan.o linregr.o -lm

glarendx:	glarendx.o image.o header.o erf.o fvect.o resolu.o
	cc $(CFLAGS) -o glarendx glarendx.o image.o header.o fvect.o \
erf.o resolu.o -lm

xglaresrc:	xglaresrc.o fvect.o image.o resolu.o header.o x11findwind.o
	cc $(CFLAGS) -o xglaresrc xglaresrc.o fvect.o image.o \
header.o resolu.o x11findwind.o -lm -lX11

contour:	contour.o
	cc $(CFLAGS) -o contour contour.o -lm

pranim:	pranim.o client/libclient.a
	cc $(CFLAGS) -o pranim pranim.o \
client/libclient.a -lrpcsvc

t16anim:	t16anim.o client/libclient.a
	cc $(CFLAGS) -o t16anim t16anim.o \
client/libclient.a -lrpcsvc

t16anim.o pranim.o:	client/clnt.h

setscan.o makedist.o:	setscan.h

findglare.o glareval.o \
glaresrc.o:	glare.h standard.h mat4.h fvect.h view.h color.h setscan.h

glaresrc.o linregr.o:	linregr.h

image.o xglaresrc.o:	standard.h mat4.h fvect.h view.h

fvect.o:	fvect.h

resolu.o:	color.h

swaprasheader.o:	rasterfile.h
