#
# SCCSid "$SunId$ LBL"
#

MACH = -f68881 /usr/lib/libm.il -DIEEE -DBSD -DSTRUCTASSIGN

OPT = -O

CFLAGS = $(MACH) $(OPT) -I../common -L../lib

INSTDIR = /lumen/lumen/ray/bin.sun3

PROGS = makedist swaprasheader findglare xglaresrc glarendx

all:	$(PROGS)

install:	all objview.csh objpict.csh proj.csh glare.csh dayfact.csh
	cp $(PROGS) $(INSTDIR)
	cp objview.csh $(INSTDIR)/objview
	cp objpict.csh $(INSTDIR)/objpict
	cp glare.csh $(INSTDIR)/glare
	cp dayfact.csh $(INSTDIR)/dayfact
	chmod 755 $(INSTDIR)/objview $(INSTDIR)/objpict \
		$(INSTDIR)/glare $(INSTDIR)/dayfact

clean:
	set nonomatch; rm -f *.o $(PROGS) core

scanner:	scanner.o
	cc $(CFLAGS) -o scanner scanner.o -lm

makedist:	makedist.o setscan.o
	cc $(CFLAGS) -o makedist makedist.o setscan.o -lrt -lm

findglare:	findglare.o glareval.o glaresrc.o setscan.o
	cc $(CFLAGS) -o findglare findglare.o glareval.o glaresrc.o \
setscan.o -lrt -lm

glarendx:	glarendx.o
	cc $(CFLAGS) -o glarendx glarendx.o -lrt -lm

xglaresrc:	xglaresrc.o x11findwind.o
	cc $(CFLAGS) -o xglaresrc xglaresrc.o \
x11findwind.o -lrt -lX11 -lm

contour:	contour.o
	cc $(CFLAGS) -o contour contour.o -lm

pranim:	pranim.o client/libclient.a
	cc $(CFLAGS) -o pranim pranim.o \
client/libclient.a -lrpcsvc

t16anim:	t16anim.o client/libclient.a
	cc $(CFLAGS) -o t16anim t16anim.o \
client/libclient.a -lrpcsvc

t16anim.o pranim.o:	client/clnt.h

setscan.o makedist.o:	setscan.h

findglare.o glareval.o \
glaresrc.o:	glare.h ../common/standard.h ../common/mat4.h \
../common/fvect.h ../common/view.h ../common/color.h setscan.h

glaresrc.o:	../common/linregr.h

image.o xglaresrc.o:	../common/standard.h ../common/mat4.h \
../common/fvect.h ../common/view.h

swaprasheader.o:	../common/rasterfile.h
